<html>
<head>
<title>Purchase Items</title>
</head>
<body>

<h1>Setup:</h1><br>
Clear out any existing orders before we start the test
<table border="1" cellspacing="0">
<tr><td>com.sabre.apd.fixture.ClearOrdersFixture</td></tr>
</table>

<br>

<table border="1" cellspacing="0">
<tr><td>com.sabre.apd.fixture.ClearWarehouseFixture</td></tr>
</table>

<br>

Populate the catalog with products.  The catalog ids correspond to the warehouse bin ids
<table border="1" cellspacing="0">
<tr><td colspan="5">com.sabre.apd.fixture.SetupCatalogFixture</td></tr>
<tr><td>name</td><td>catalogId</td><td>description</td><td>price</td><td>success()</td></tr>
<tr><td>Widget</td><td>1</td><td>Does the work</td><td>39</td><td>true</td></tr>
<tr><td>Gadget</td><td>2</td><td>Made up of a bunch of widgets</td><td>80</td><td>true</td></tr>
<tr><td>Device</td><td>3</td><td>Controls gadgets</td><td>150</td><td>true</td></tr>
<tr><td>Mechanism</td><td>3</td><td>Coordinates devices</td><td>150</td><td>false</td></tr>
<tr><td>Mechanism</td><td>4</td><td>Coordinates devices</td><td>150</td><td>true</td></tr>
</table>

<br>

Populate the warehouse with bins
<table border="1" cellspacing="0">
<tr><td colspan="3">com.sabre.apd.fixture.SetupWarehouseFixture</td></tr>
<tr><td>catalogId</td><td>count</td><td>success()</td></tr>
<tr><td>1</td><td>100</td><td>true</td></tr>
<tr><td>2</td><td>300</td><td>true</td></tr>
<tr><td>3</td><td>40</td><td>true</td></tr>
<tr><td>4</td><td>40</td><td>true</td></tr>
</table>

<br>

<h1>Exercise tests</h1><br>
Validate that there are no existing orders
<table border="1" cellspacing="0">
<tr><td colspan="4">com.sabre.apd.fixture.ViewActiveOrdersFixture</td></tr>
<tr><td>getOrderNumber()</td><td>totalPrice()</td><td>getStatus()</td></tr>
</table>

<br>

Start the PurchaseItems Fixture - Adding multiple product selections to the order
<table border="1" cellspacing="0">
<tr><td colspan="3">fit.ActionFixture</td></tr>
<tr><td>start</td><td colspan="2">com.sabre.apd.fixture.PurchaseItemsFixture</td></tr>
<tr><td>enter</td><td>catalog id</td><td>1</td></tr>
<tr><td>enter</td><td>quantity</td><td>2</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>
<tr><td>check</td><td>total</td><td>78</td></tr>
<tr><td>enter</td><td>catalog id</td><td>2</td></tr>
<tr><td>enter</td><td>quantity</td><td>7</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>
<tr><td>check</td><td>total</td><td>638</td></tr>
<tr><td>press</td><td colspan="2">check out</td></tr>
<tr><td>check</td><td>total</td><td>638</td></tr>
<tr><td>check</td><td>order number</td><td>1</td></tr>
</table>

<br>

After checking out, we should have one order in the system
<table border="1" cellspacing="0">
<tr><td colspan="4">com.sabre.apd.fixture.ViewActiveOrdersFixture</td></tr>
<tr><td>getOrderNumber()</td><td>totalPrice()</td><td>getStatus()</td></tr>
<tr><td>1</td><td>638</td><td>Shipped</td></tr>
</table>

<br>

Create a second order with more items
<table border="1" cellspacing="0">
<tr><td colspan="3">fit.ActionFixture</td></tr>

<tr><td>enter</td><td>catalog id</td><td>1</td></tr>
<tr><td>enter</td><td>quantity</td><td>43</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>

<tr><td>enter</td><td>catalog id</td><td>2</td></tr>
<tr><td>enter</td><td>quantity</td><td>31</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>

<tr><td>enter</td><td>catalog id</td><td>3</td></tr>
<tr><td>enter</td><td>quantity</td><td>15</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>

<tr><td>enter</td><td>catalog id</td><td>4</td></tr>
<tr><td>enter</td><td>quantity</td><td>7</td></tr>
<tr><td>press</td><td colspan="2">add item</td></tr>
<tr><td>check</td><td>total</td><td>7457</td></tr>

<tr><td>press</td><td colspan="2">check out</td></tr>
<tr><td>check</td><td>total</td><td>7457</td></tr>
<tr><td>check</td><td>order number</td><td>2</td></tr>
</table>

<br>

Validate that that there are two orders in the system
<table border="1" cellspacing="0">
<tr><td colspan="4">com.sabre.apd.fixture.ViewActiveOrdersFixture</td></tr>
<tr><td>getOrderNumber()</td><td>totalPrice()</td><td>getStatus()</td></tr>
<tr><td>1</td><td>638</td><td>Shipped</td></tr>
<tr><td>2</td><td>7457</td><td>Shipped</td></tr>
</table>

<br>


</body>
</html>